{"ast":null,"code":"import _defineProperty from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\FrontendMaster\\\\test\\\\src\\\\components\\\\PostFormOfBook.jsx\";\nimport React from \"react\";\nimport { Form, FormGroup, Label, Input, Col } from \"reactstrap\";\nimport axios from \"../Utils/axios\";\nimport history from \"../components/history\";\nimport RedirectToHoc from \"../hoc/redirect\";\n\nvar PostFormOfBook =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PostFormOfBook, _React$Component);\n\n  function PostFormOfBook(props) {\n    var _this;\n\n    _classCallCheck(this, PostFormOfBook);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostFormOfBook).call(this, props));\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      console.log(_this.state);\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var book = {\n        name: _this.state.name,\n        quantity: _this.state.quantity,\n        location: _this.state.location,\n        description: _this.state.description,\n        isbn: _this.state.isbn,\n        publisher: _this.state.publisher,\n        author: _this.state.author\n      };\n      axios.post(\"/book\", book, {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function (res) {\n        console.log(res);\n        history.replace(\"/book\");\n      }).catch(function (error) {\n        _this.setState({\n          hasError: true,\n          error: JSON.stringify(error.response.data)\n        });\n\n        console.log(\"error in book post\" + JSON.stringify(error.response.data.detail));\n        /* this.setState({error: error.response.data.detail});*/\n      });\n    };\n\n    _this.state = {\n      name: \"\",\n      quantity: 0,\n      location: \"\",\n      description: \"\",\n      isbn: \"\",\n      publisher: \"\",\n      author: \"\",\n      error: [],\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(PostFormOfBook, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-10 offset-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"my-4 border border-light p-5 shadow-lg form-background\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"NEW BOOK FORM\"), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleEmail\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Name: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"name\",\n        id: \"exampleEmail\",\n        placeholder: \"Book Name\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.state.error.detail.name)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Location: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"location\",\n        id: \"examplePassword\",\n        placeholder: \"Book location in library\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.state.error.detail.location)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"ISBN no: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"isbn\",\n        id: \"examplePassword\",\n        placeholder: \"Book ISBN\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.error.detail.isbn)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Quantity: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"number\",\n        name: \"quantity\",\n        id: \"examplePassword\",\n        placeholder: \"Book quantity\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, this.state.error.detail.quantity)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Publisher: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"publisher\",\n        id: \"examplePassword\",\n        placeholder: \"Book publisher\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.error.detail.publisher)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Author: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"author\",\n        id: \"examplePassword\",\n        placeholder: \"Book author\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, this.state.error.detail.author)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleText\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Description: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"textarea\",\n        name: \"description\",\n        id: \"exampleText\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.state.error.detail.description)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-success btn-md rounded-0 mx-auto px-5 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"SAVE\"))))));\n    }\n  }]);\n\n  return PostFormOfBook;\n}(React.Component);\n\nexport default RedirectToHoc(PostFormOfBook);","map":{"version":3,"sources":["E:\\FrontendMaster\\test\\src\\components\\PostFormOfBook.jsx"],"names":["React","Form","FormGroup","Label","Input","Col","axios","history","RedirectToHoc","PostFormOfBook","props","handleChange","event","setState","target","name","value","console","log","state","handleSubmit","preventDefault","book","quantity","location","description","isbn","publisher","author","post","headers","Authorization","localStorage","getItem","then","res","replace","catch","error","hasError","JSON","stringify","response","data","detail","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Form, FormGroup, Label, Input, Col } from \"reactstrap\";\r\nimport axios from \"../Utils/axios\";\r\nimport history from \"../components/history\";\r\nimport RedirectToHoc from \"../hoc/redirect\";\r\nclass PostFormOfBook extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n      this.state = {\r\n          name: \"\",\r\n          quantity: 0,\r\n          location: \"\",\r\n          description: \"\",\r\n          isbn: \"\",\r\n          publisher: \"\",\r\n          author: \"\",\r\n          error: [],\r\n          hasError: false\r\n      };\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    console.log(this.state);\r\n  };\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const book = {\r\n      name: this.state.name,\r\n      quantity: this.state.quantity,\r\n      location: this.state.location,\r\n      description: this.state.description,\r\n      isbn: this.state.isbn,\r\n      publisher: this.state.publisher,\r\n      author: this.state.author\r\n    };\r\n    axios\r\n      .post(\"/book\", book, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\r\n        }\r\n      })\r\n      .then(res => {\r\n        console.log(res);\r\n        history.replace(\"/book\");\r\n      })\r\n      .catch(error => {\r\n        this.setState({hasError: true, error: JSON.stringify(error.response.data)});\r\n        console.log(\"error in book post\" + JSON.stringify(error.response.data.detail));\r\n        /* this.setState({error: error.response.data.detail});*/\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"col-md-10 offset-md-1\">\r\n          <Form\r\n            onSubmit={this.handleSubmit}\r\n            className=\"my-4 border border-light p-5 shadow-lg form-background\"\r\n          >\r\n            <h2 className=\"text-center mb-5\">NEW BOOK FORM</h2>\r\n            <FormGroup row>\r\n              <Label for=\"exampleEmail\" sm={2}>\r\n                <h5>Name: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"exampleEmail\"\r\n                  placeholder=\"Book Name\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.name}</em></p>:null}\r\n              </Col>\r\n\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Location: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"location\"\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book location in library\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.location}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>ISBN no: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"isbn\"\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book ISBN\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.isbn}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Quantity: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"quantity\"\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book quantity\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.quantity}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Publisher: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"publisher\"\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book publisher\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.publisher}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Author: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"author\"\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book author\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.author}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"exampleText\" sm={2}>\r\n                <h5>Description: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"textarea\"\r\n                  name=\"description\"\r\n                  id=\"exampleText\"\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.description}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <button className=\"btn btn-outline-success btn-md rounded-0 mx-auto px-5 shadow\">\r\n                <h2>SAVE</h2>\r\n              </button>\r\n            </FormGroup>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default RedirectToHoc(PostFormOfBook);\r\n"]},"metadata":{},"sourceType":"module"}