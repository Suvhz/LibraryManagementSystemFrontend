{"ast":null,"code":"import _defineProperty from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport React, { Component } from \"react\";\nimport { Form, FormGroup, Label, Input, Col } from \"reactstrap\";\nimport axios from \"../Utils/axios\";\nimport { navigate } from \"@reach/router\";\nimport Redirect from \"../hoc/redirect\";\n\nvar UpdateBook =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateBook, _Component);\n\n  function UpdateBook() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UpdateBook);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UpdateBook)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      id: 0,\n      name: \"\",\n      quantity: 0,\n      location: \"\",\n      description: \"\",\n      isbn: \"\",\n      publisher: \"\",\n      author: \"\",\n      error: [],\n      book: []\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      console.log(_this.state);\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var book = {\n        id: _this.state.id,\n        name: _this.state.name,\n        quantity: _this.state.quantity,\n        location: _this.state.location,\n        description: _this.state.description,\n        isbn: _this.state.isbn,\n        publisher: _this.state.publisher,\n        author: _this.state.author\n      };\n      console.log(\"check id\" + book);\n      axios({\n        method: \"put\",\n        url: \"/book\",\n        data: book\n      }).then(function (res) {\n        console.log(res);\n        navigate(\"/\");\n      }).catch(function (error) {\n        _this.setState({\n          error: error.response.data.detail\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UpdateBook, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.props, 'match'); // console.log(\"url\"+this.props.match.id);\n\n      axios.get(\"/book/4\", {\n        headers: {\n          \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function (res) {\n        _this2.setState({\n          book: res.data\n        });\n\n        _this2.setState({\n          id: res.data.id,\n          name: res.data.name,\n          quantity: res.data.quantity,\n          location: res.data.location,\n          description: res.data.description,\n          isbn: res.data.isbn,\n          publisher: res.data.publisher,\n          author: res.data.author\n        });\n      }).catch(function (res) {\n        console.log(\"error\" + res);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return UpdateBook;\n}(Component);\n\nexport default Redirect(UpdateBook);","map":{"version":3,"sources":["E:\\FrontendMaster\\test\\src\\components\\UpdateBook.jsx"],"names":["React","Component","Form","FormGroup","Label","Input","Col","axios","navigate","Redirect","UpdateBook","state","id","name","quantity","location","description","isbn","publisher","author","error","book","handleChange","event","setState","target","value","console","log","handleSubmit","preventDefault","method","url","data","then","res","catch","response","detail","props","get","headers","localStorage","getItem"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport { Form, FormGroup, Label, Input, Col } from \"reactstrap\";\r\nimport axios from \"../Utils/axios\";\r\nimport {navigate} from \"@reach/router\";\r\nimport Redirect from \"../hoc/redirect\";\r\n\r\nclass UpdateBook extends Component {\r\n\r\n  state = {\r\n          id:0,\r\n          name: \"\",\r\n          quantity: 0,\r\n          location: \"\",\r\n          description: \"\",\r\n          isbn: \"\",\r\n          publisher: \"\",\r\n          author: \"\",\r\n          error: [],\r\n          book:[],\r\n      };\r\n    componentDidMount() {\r\n        console.log(this.props, 'match');\r\n        // console.log(\"url\"+this.props.match.id);\r\n        axios.get(`/book/4`, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"access_token\")}`}} )\r\n            .then(res => {\r\n                this.setState({book:res.data});\r\n                this.setState({id: res.data.id, name: res.data.name, quantity:res.data.quantity,\r\n                    location:res.data.location, description: res.data.description, isbn: res.data.isbn,\r\n                    publisher: res.data.publisher, author: res.data.author})\r\n\r\n            })\r\n            .catch(res=>{\r\n                console.log(\"error\"+res);\r\n            })\r\n\r\n    }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const book = {\r\n      id: this.state.id,\r\n      name: this.state.name,\r\n      quantity: this.state.quantity,\r\n      location: this.state.location,\r\n      description: this.state.description,\r\n      isbn: this.state.isbn,\r\n      publisher: this.state.publisher,\r\n      author: this.state.author\r\n    };\r\n    console.log(\"check id\"+book);\r\n    axios({\r\n      method: \"put\",\r\n      url: \"/book\",\r\n      data: book\r\n    })\r\n      .then(res => {\r\n        console.log(res);\r\n          navigate(\"/\");\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error: error.response.data.detail });\r\n\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\nexport default Redirect(UpdateBook);\r\n"]},"metadata":{},"sourceType":"module"}