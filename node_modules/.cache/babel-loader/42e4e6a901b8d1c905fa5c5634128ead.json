{"ast":null,"code":"import _classCallCheck from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\FrontendMaster\\\\test\\\\src\\\\components\\\\UpdateBookIssue.jsx\";\nimport React from \"react\";\nimport { Form, FormGroup, Label, Col, Input } from \"reactstrap\";\nimport axios from \"../Utils/axios\";\nimport history from \"../components/history\";\nimport { UncontrolledButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from \"reactstrap\";\nimport Redirect from \"../hoc/redirect\";\n\nvar UpdateBookIssue =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UpdateBookIssue, _React$Component);\n\n  function UpdateBookIssue(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateBookIssue);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateBookIssue).call(this, props));\n\n    _this.handleUserChange = function (event) {\n      var selectedUser = _this.state.users.find(function (obj) {\n        return obj.id == event.target.value;\n      });\n\n      _this.setState({\n        selectedUser: selectedUser.firstName + \" \" + selectedUser.lastName,\n        user: selectedUser\n      });\n    };\n\n    _this.handleRadioButton = function (event) {\n      console.log(\"radioChick\" + event.target.value);\n\n      _this.setState({\n        radioButton: event.target.value\n      });\n    };\n\n    _this.handleBookChange = function (event) {\n      var selectedbook = _this.state.books.find(function (obj) {\n        return obj.id == event.target.value;\n      });\n\n      _this.setState({\n        book: selectedbook,\n        selectedBook: selectedbook.name\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var bookIssue = {\n        id: _this.state.bookIssue.id,\n        book: _this.state.book,\n        user: _this.state.user,\n        status: _this.state.radioButton\n      };\n      axios({\n        method: \"put\",\n        url: \"/bookIssue\",\n        data: bookIssue,\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function () {\n        history.replace(\"/bookIssue\");\n      }).catch(function (error) {\n        /* this.setState({error: error.response.data.detail});*/\n        console.log(error);\n      });\n    };\n\n    _this.getUserList = function () {\n      var users;\n      axios.get(\"/user\", {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function (data) {\n        console.log(data);\n        users = data.data;\n\n        _this.setState({\n          users: users\n        });\n      });\n    };\n\n    _this.getBookList = function () {\n      var books;\n      axios.get(\"/book\", {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function (data) {\n        console.log(data);\n        books = data.data;\n\n        _this.setState({\n          books: books\n        });\n\n        console.log(_this.state.books);\n      });\n    };\n\n    _this.state = {\n      bookIssue: [],\n      books: [],\n      users: [],\n      user: [],\n      book: [],\n      selectedUser: \"Select the user\",\n      selectedBook: \"Select the book\",\n      radioButton: true\n    };\n    return _this;\n  }\n\n  _createClass(UpdateBookIssue, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getUserList();\n      this.getBookList();\n      var id = this.props.match.params.id;\n      axios.get(\"/bookIssue/\" + id, {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function (data) {\n        _this2.setState({\n          bookIssue: data.data,\n          user: data.data.user,\n          book: data.data.book,\n          selectedBook: data.data.book.name,\n          selectedUser: data.data.user.firstName + \" \" + data.data.user.lastName,\n          radioButton: data.data.status\n        });\n\n        console.log(\"status\" + _this2.state.radioButton);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-10 offset-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"my-4 border border-light p-5 shadow-lg form-background w-75 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"BOOK ISSUE\"), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"firstName\",\n        sm: 4,\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Book: \")), React.createElement(Col, {\n        sm: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(UncontrolledButtonDropdown, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(DropdownToggle, {\n        caret: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.state.selectedBook), React.createElement(DropdownMenu, {\n        onClick: this.handleBookChange,\n        value: this.state.bookIssue.book,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.books.map(function (book, key) {\n        return React.createElement(DropdownItem, {\n          key: key,\n          value: book.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, book.name);\n      }))))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"User\",\n        sm: 4,\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"User: \")), React.createElement(Col, {\n        sm: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(UncontrolledButtonDropdown, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(DropdownToggle, {\n        caret: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, this.state.selectedUser), React.createElement(DropdownMenu, {\n        onClick: this.handleUserChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, this.state.users.map(function (user, key) {\n        return React.createElement(DropdownItem, {\n          key: key,\n          value: user.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, user.firstName, \" \", user.lastName);\n      }))))), React.createElement(FormGroup, {\n        tag: \"fieldset\",\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"pl-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Book Issue: \"))), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        check: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Label, {\n        check: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio1\",\n        value: true,\n        defaultChecked: this.state.radioButton,\n        onChange: this.handleRadioButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), \" \", React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Return\")))), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        check: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Label, {\n        check: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio1\",\n        value: false,\n        defaultChecked: !this.state.radioButton,\n        onChange: this.handleRadioButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \" Not Return\")))))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-success btn-md rounded-0 mx-auto px-5 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"SAVE\"))))));\n    }\n  }]);\n\n  return UpdateBookIssue;\n}(React.Component);\n\nexport default Redirect(UpdateBookIssue);","map":{"version":3,"sources":["E:\\FrontendMaster\\test\\src\\components\\UpdateBookIssue.jsx"],"names":["React","Form","FormGroup","Label","Col","Input","axios","history","UncontrolledButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Redirect","UpdateBookIssue","props","handleUserChange","event","selectedUser","state","users","find","obj","id","target","value","setState","firstName","lastName","user","handleRadioButton","console","log","radioButton","handleBookChange","selectedbook","books","book","selectedBook","name","handleSubmit","preventDefault","bookIssue","status","method","url","data","headers","Authorization","localStorage","getItem","then","replace","catch","error","getUserList","get","getBookList","match","params","map","key","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,KAA1B,EAAiCC,GAAjC,EAAsCC,KAAtC,QAAmD,YAAnD;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SACEC,0BADF,EAEEC,cAFF,EAGEC,YAHF,EAIEC,YAJF,QAKO,YALP;AAMA,OAAOC,QAAP,MAAqB,iBAArB;;IAEMC,e;;;;;AACJ,2BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,yFAAMA,KAAN;;AADgB,UAclBC,gBAdkB,GAcC,UAAAC,KAAK,EAAI;AAC1B,UAAIC,YAAY,GAAG,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,IAAjB,CACjB,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,EAAJ,IAAUN,KAAK,CAACO,MAAN,CAAaC,KAA3B;AAAA,OADc,CAAnB;;AAGA,YAAKC,QAAL,CAAc;AACZR,QAAAA,YAAY,EAAEA,YAAY,CAACS,SAAb,GAAyB,GAAzB,GAA+BT,YAAY,CAACU,QAD9C;AAEZC,QAAAA,IAAI,EAAEX;AAFM,OAAd;AAID,KAtBiB;;AAAA,UAuBlBY,iBAvBkB,GAuBE,UAAAb,KAAK,EAAI;AAC/Bc,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAaf,KAAK,CAACO,MAAN,CAAaC,KAAtC;;AAEM,YAAKC,QAAL,CAAc;AACdO,QAAAA,WAAW,EAAEhB,KAAK,CAACO,MAAN,CAAaC;AADZ,OAAd;AAGH,KA7BiB;;AAAA,UA8BlBS,gBA9BkB,GA8BC,UAAAjB,KAAK,EAAI;AAC1B,UAAIkB,YAAY,GAAG,MAAKhB,KAAL,CAAWiB,KAAX,CAAiBf,IAAjB,CACjB,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,EAAJ,IAAUN,KAAK,CAACO,MAAN,CAAaC,KAA3B;AAAA,OADc,CAAnB;;AAGA,YAAKC,QAAL,CAAc;AACZW,QAAAA,IAAI,EAAEF,YADM;AAEZG,QAAAA,YAAY,EAAEH,YAAY,CAACI;AAFf,OAAd;AAID,KAtCiB;;AAAA,UAuClBC,YAvCkB,GAuCH,UAAAvB,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACwB,cAAN;AACA,UAAMC,SAAS,GAAG;AAChBnB,QAAAA,EAAE,EAAE,MAAKJ,KAAL,CAAWuB,SAAX,CAAqBnB,EADT;AAEhBc,QAAAA,IAAI,EAAE,MAAKlB,KAAL,CAAWkB,IAFD;AAGhBR,QAAAA,IAAI,EAAE,MAAKV,KAAL,CAAWU,IAHD;AAIhBc,QAAAA,MAAM,EAAE,MAAKxB,KAAL,CAAWc;AAJH,OAAlB;AAOA1B,MAAAA,KAAK,CAAC;AACJqC,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,GAAG,EAAE,YAFD;AAGJC,QAAAA,IAAI,EAAEJ,SAHF;AAIJK,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAZ;AADR;AAJL,OAAD,CAAL,CAOGC,IAPH,CAOQ,YAAM;AACZ3C,QAAAA,OAAO,CAAC4C,OAAR,CAAgB,YAAhB;AACC,OATH,EAUGC,KAVH,CAUS,UAAAC,KAAK,EAAI;AACd;AACAvB,QAAAA,OAAO,CAACC,GAAR,CAAYsB,KAAZ;AACD,OAbH;AAcD,KA9DiB;;AAAA,UAkFlBC,WAlFkB,GAkFJ,YAAM;AAClB,UAAInC,KAAJ;AACAb,MAAAA,KAAK,CAACiD,GAAN,CAAU,OAAV,EAAkB;AAACT,QAAAA,OAAO,EAAE;AACpBC,UAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAZ;AADO;AAAV,OAAlB,EAC2EC,IAD3E,CACgF,UAAAL,IAAI,EAAI;AACtFf,QAAAA,OAAO,CAACC,GAAR,CAAYc,IAAZ;AACA1B,QAAAA,KAAK,GAAG0B,IAAI,CAACA,IAAb;;AACA,cAAKpB,QAAL,CAAc;AACZN,UAAAA,KAAK,EAAEA;AADK,SAAd;AAGD,OAPD;AAQD,KA5FiB;;AAAA,UA6FlBqC,WA7FkB,GA6FJ,YAAM;AAClB,UAAIrB,KAAJ;AACA7B,MAAAA,KAAK,CAACiD,GAAN,CAAU,OAAV,EAAkB;AAACT,QAAAA,OAAO,EAAE;AACpBC,UAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAZ;AADO;AAAV,OAAlB,EAC2EC,IAD3E,CACgF,UAAAL,IAAI,EAAI;AACtFf,QAAAA,OAAO,CAACC,GAAR,CAAYc,IAAZ;AACAV,QAAAA,KAAK,GAAGU,IAAI,CAACA,IAAb;;AACA,cAAKpB,QAAL,CAAc;AACZU,UAAAA,KAAK,EAAEA;AADK,SAAd;;AAGAL,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKb,KAAL,CAAWiB,KAAvB;AACD,OARD;AASD,KAxGiB;;AAEd,UAAKjB,KAAL,GAAa;AACTuB,MAAAA,SAAS,EAAE,EADF;AAETN,MAAAA,KAAK,EAAE,EAFE;AAGThB,MAAAA,KAAK,EAAE,EAHE;AAITS,MAAAA,IAAI,EAAE,EAJG;AAKTQ,MAAAA,IAAI,EAAE,EALG;AAMTnB,MAAAA,YAAY,EAAE,iBANL;AAOToB,MAAAA,YAAY,EAAE,iBAPL;AAQTL,MAAAA,WAAW,EAAE;AARJ,KAAb;AAFc;AAYjB;;;;wCAmDmB;AAAA;;AAClB,WAAKsB,WAAL;AACA,WAAKE,WAAL;AACA,UAAMlC,EAAE,GAAG,KAAKR,KAAL,CAAW2C,KAAX,CAAiBC,MAAjB,CAAwBpC,EAAnC;AACAhB,MAAAA,KAAK,CAACiD,GAAN,CAAU,gBAAgBjC,EAA1B,EAA6B;AAACwB,QAAAA,OAAO,EAAE;AAC/BC,UAAAA,aAAa,mBAAYC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAZ;AADkB;AAAV,OAA7B,EAC2EC,IAD3E,CACgF,UAAAL,IAAI,EAAI;AACtF,QAAA,MAAI,CAACpB,QAAL,CAAc;AACZgB,UAAAA,SAAS,EAAEI,IAAI,CAACA,IADJ;AAEVjB,UAAAA,IAAI,EAAEiB,IAAI,CAACA,IAAL,CAAUjB,IAFN;AAGVQ,UAAAA,IAAI,EAAES,IAAI,CAACA,IAAL,CAAUT,IAHN;AAIVC,UAAAA,YAAY,EAAEQ,IAAI,CAACA,IAAL,CAAUT,IAAV,CAAeE,IAJnB;AAKVrB,UAAAA,YAAY,EAAE4B,IAAI,CAACA,IAAL,CAAUjB,IAAV,CAAeF,SAAf,GAAyB,GAAzB,GAA8BmB,IAAI,CAACA,IAAL,CAAUjB,IAAV,CAAeD,QALjD;AAMVK,UAAAA,WAAW,EAAEa,IAAI,CAACA,IAAL,CAAUH;AANb,SAAd;;AASAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAU,MAAI,CAACb,KAAL,CAAWc,WAAjC;AACD,OAZD;AAcD;;;6BAwBQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,QAAQ,EAAE,KAAKO,YADjB;AAEE,QAAA,SAAS,EAAC,qEAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,EAKE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,WAAX;AAAuB,QAAA,EAAE,EAAE,CAA3B;AAA8B,QAAA,SAAS,EAAC,aAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,EAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAgB,QAAA,KAAK,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKrB,KAAL,CAAWmB,YADd,CADF,EAIE,oBAAC,YAAD;AACE,QAAA,OAAO,EAAE,KAAKJ,gBADhB;AAEE,QAAA,KAAK,EAAE,KAAKf,KAAL,CAAWuB,SAAX,CAAqBL,IAF9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,KAAKlB,KAAL,CAAWiB,KAAX,CAAiBwB,GAAjB,CAAqB,UAACvB,IAAD,EAAOwB,GAAP;AAAA,eACpB,oBAAC,YAAD;AAAc,UAAA,GAAG,EAAEA,GAAnB;AAAwB,UAAA,KAAK,EAAExB,IAAI,CAACd,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGc,IAAI,CAACE,IADR,CADoB;AAAA,OAArB,CAJH,CAJF,CADF,CAJF,CALF,EA2BE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,MAAX;AAAkB,QAAA,EAAE,EAAE,CAAtB;AAAyB,QAAA,SAAS,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,EAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAgB,QAAA,KAAK,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKpB,KAAL,CAAWD,YADd,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAE,KAAKF,gBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKG,KAAL,CAAWC,KAAX,CAAiBwC,GAAjB,CAAqB,UAAC/B,IAAD,EAAOgC,GAAP;AAAA,eACpB,oBAAC,YAAD;AAAc,UAAA,GAAG,EAAEA,GAAnB;AAAwB,UAAA,KAAK,EAAEhC,IAAI,CAACN,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGM,IAAI,CAACF,SADR,OACoBE,IAAI,CAACD,QADzB,CADoB;AAAA,OAArB,CADH,CAJF,CADF,CAJF,CA3BF,EA8CE,oBAAC,SAAD;AAAW,QAAA,GAAG,EAAC,UAAf;AAA0B,QAAA,GAAG,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,CADF,EAME;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,KAAK,EAAE,IAHT;AAIE,QAAA,cAAc,EAAE,KAAKT,KAAL,CAAWc,WAJ7B;AAKE,QAAA,QAAQ,EAAE,KAAKH,iBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQK,GARL,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,CADF,CADF,CANF,EAqBE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,KAAK,EAAE,KAHT;AAIE,QAAA,cAAc,EAAE,CAAC,KAAKX,KAAL,CAAWc,WAJ9B;AAKE,QAAA,QAAQ,EAAE,KAAKH,iBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBATF,CADF,CADF,CArBF,CADF,CA9CF,EAqFE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,8DAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,CArFF,CADF,CADF,CADF;AAiGD;;;;EA5M2B7B,KAAK,CAAC6D,S;;AA8MpC,eAAejD,QAAQ,CAACC,eAAD,CAAvB","sourcesContent":["import React from \"react\";\r\nimport { Form, FormGroup, Label, Col, Input } from \"reactstrap\";\r\nimport axios from \"../Utils/axios\";\r\nimport history from \"../components/history\";\r\nimport {\r\n  UncontrolledButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport Redirect from \"../hoc/redirect\";\r\n\r\nclass UpdateBookIssue extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n      this.state = {\r\n          bookIssue: [],\r\n          books: [],\r\n          users: [],\r\n          user: [],\r\n          book: [],\r\n          selectedUser: \"Select the user\",\r\n          selectedBook: \"Select the book\",\r\n          radioButton: true\r\n      };\r\n  }\r\n\r\n  handleUserChange = event => {\r\n    let selectedUser = this.state.users.find(\r\n      obj => obj.id == event.target.value\r\n    );\r\n    this.setState({\r\n      selectedUser: selectedUser.firstName + \" \" + selectedUser.lastName,\r\n      user: selectedUser\r\n    });\r\n  };\r\n  handleRadioButton = event => {\r\nconsole.log(\"radioChick\"+event.target.value\r\n);\r\n      this.setState({\r\n      radioButton: event.target.value\r\n    });\r\n  };\r\n  handleBookChange = event => {\r\n    let selectedbook = this.state.books.find(\r\n      obj => obj.id == event.target.value\r\n    );\r\n    this.setState({\r\n      book: selectedbook,\r\n      selectedBook: selectedbook.name\r\n    });\r\n  };\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const bookIssue = {\r\n      id: this.state.bookIssue.id,\r\n      book: this.state.book,\r\n      user: this.state.user,\r\n      status: this.state.radioButton\r\n    };\r\n\r\n    axios({\r\n      method: \"put\",\r\n      url: \"/bookIssue\",\r\n      data: bookIssue,\r\n      headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`}\r\n    })\r\n      .then(() => {\r\n      history.replace(\"/bookIssue\");\r\n      })\r\n      .catch(error => {\r\n        /* this.setState({error: error.response.data.detail});*/\r\n        console.log(error);\r\n      });\r\n  };\r\n  componentDidMount() {\r\n    this.getUserList();\r\n    this.getBookList();\r\n    const id = this.props.match.params.id;\r\n    axios.get(\"/bookIssue/\" + id,{headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`}}).then(data => {\r\n      this.setState({\r\n        bookIssue: data.data,\r\n          user: data.data.user,\r\n          book: data.data.book,\r\n          selectedBook: data.data.book.name,\r\n          selectedUser: data.data.user.firstName+\" \"+ data.data.user.lastName,\r\n          radioButton: data.data.status\r\n\r\n      });\r\n      console.log(\"status\"+ this.state.radioButton)\r\n    });\r\n\r\n  }\r\n  getUserList = () => {\r\n    let users;\r\n    axios.get(\"/user\",{headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`}}).then(data => {\r\n      console.log(data);\r\n      users = data.data;\r\n      this.setState({\r\n        users: users\r\n      });\r\n    });\r\n  };\r\n  getBookList = () => {\r\n    let books;\r\n    axios.get(\"/book\",{headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`}}).then(data => {\r\n      console.log(data);\r\n      books = data.data;\r\n      this.setState({\r\n        books: books\r\n      });\r\n      console.log(this.state.books);\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"col-md-10 offset-md-1\">\r\n          <Form\r\n            onSubmit={this.handleSubmit}\r\n            className=\"my-4 border border-light p-5 shadow-lg form-background w-75 mx-auto\"\r\n          >\r\n            <h2 className=\"text-center mb-5\">BOOK ISSUE</h2>\r\n            <FormGroup row>\r\n              <Label for=\"firstName\" sm={4} className=\"text-center\">\r\n                <h5>Book: </h5>\r\n              </Label>\r\n              <Col sm={4}>\r\n                <UncontrolledButtonDropdown>\r\n                  <DropdownToggle caret>\r\n                    {this.state.selectedBook}\r\n                  </DropdownToggle>\r\n                  <DropdownMenu\r\n                    onClick={this.handleBookChange}\r\n                    value={this.state.bookIssue.book}\r\n                  >\r\n                    {this.state.books.map((book, key) => (\r\n                      <DropdownItem key={key} value={book.id}>\r\n                        {book.name}\r\n                      </DropdownItem>\r\n                    ))}\r\n                  </DropdownMenu>\r\n                </UncontrolledButtonDropdown>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"User\" sm={4} className=\"text-center\">\r\n                <h5>User: </h5>\r\n              </Label>\r\n              <Col sm={4}>\r\n                <UncontrolledButtonDropdown>\r\n                  <DropdownToggle caret>\r\n                    {this.state.selectedUser}\r\n                  </DropdownToggle>\r\n                  <DropdownMenu onClick={this.handleUserChange}>\r\n                    {this.state.users.map((user, key) => (\r\n                      <DropdownItem key={key} value={user.id}>\r\n                        {user.firstName} {user.lastName}\r\n                      </DropdownItem>\r\n                    ))}\r\n                  </DropdownMenu>\r\n                </UncontrolledButtonDropdown>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup tag=\"fieldset\" row>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <legend>\r\n                    <h5 className=\"pl-4\">Book Issue: </h5>\r\n                  </legend>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"radio\"\r\n                        name=\"radio1\"\r\n                        value={true}\r\n                        defaultChecked={this.state.radioButton}\r\n                        onChange={this.handleRadioButton}\r\n\r\n                      />{\" \"}\r\n                      <h6>Return</h6>\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  <FormGroup check>\r\n                    <Label check>\r\n                      <Input\r\n                        type=\"radio\"\r\n                        name=\"radio1\"\r\n                        value={false}\r\n                        defaultChecked={!this.state.radioButton}\r\n                        onChange={this.handleRadioButton}\r\n\r\n                      />\r\n                      <h6> Not Return</h6>\r\n                    </Label>\r\n                  </FormGroup>\r\n                </div>\r\n              </div>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <button className=\"btn btn-outline-success btn-md rounded-0 mx-auto px-5 shadow\">\r\n                <h2>SAVE</h2>\r\n              </button>\r\n            </FormGroup>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Redirect(UpdateBookIssue);\r\n"]},"metadata":{},"sourceType":"module"}