{"ast":null,"code":"import _defineProperty from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\FrontendMaster\\\\test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\FrontendMaster\\\\test\\\\src\\\\components\\\\UpdateBook.jsx\";\nimport React, { Component } from \"react\";\nimport { Form, FormGroup, Label, Input, Col } from \"reactstrap\";\nimport axios from \"../Utils/axios\";\nimport history from \"../components/history\";\nimport Redirect from \"../hoc/redirect\";\n\nvar UpdateBook =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateBook, _Component);\n\n  function UpdateBook(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateBook);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateBook).call(this, props));\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      console.log(_this.state);\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var book = {\n        id: _this.state.id,\n        name: _this.state.name,\n        quantity: _this.state.quantity,\n        location: _this.state.location,\n        description: _this.state.description,\n        isbn: _this.state.isbn,\n        publisher: _this.state.publisher,\n        author: _this.state.author\n      };\n      console.log(\"check id\" + book);\n      axios({\n        method: \"put\",\n        url: \"/book\",\n        data: book,\n        headers: {\n          \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function () {\n        history.replace(\"/book\");\n      }).catch(function (error) {\n        console.log(\"error in book update\" + JSON.stringify(error.response.data.detail));\n        /* this.setState({ error: error.response.data.detail });*/\n      });\n    };\n\n    _this.state = {\n      id: 0,\n      name: \"\",\n      quantity: 0,\n      location: \"\",\n      description: \"\",\n      isbn: \"\",\n      publisher: \"\",\n      author: \"\",\n      error: [],\n      book: [],\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(UpdateBook, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.match.params.id; // console.log(\"url\"+this.props.match.id);\n\n      axios.get(\"/book/\".concat(id), {\n        headers: {\n          \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"access_token\"))\n        }\n      }).then(function (res) {\n        _this2.setState({\n          book: res.data\n        });\n\n        _this2.setState({\n          id: res.data.id,\n          name: res.data.name,\n          quantity: res.data.quantity,\n          location: res.data.location,\n          description: res.data.description,\n          isbn: res.data.isbn,\n          publisher: res.data.publisher,\n          author: res.data.author\n        });\n      }).catch(function (res) {\n        console.log(\"error\" + res);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-10 offset-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        className: \"my-4 border border-light p-5 shadow-lg form-background\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"UPDATE BOOK FORM\"), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleEmail\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Name: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"name\",\n        id: \"exampleEmail\",\n        placeholder: \"Book Name\",\n        defaultValue: this.state.book.name,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), this.state.hasError ? React.createElement(\"p\", {\n        className: \"mt-1 text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.state.error.detail.name)) : null)), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Location: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"location\",\n        defaultValue: this.state.book.location,\n        id: \"examplePassword\",\n        placeholder: \"Book price\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Label, {\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"ISBN no: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"isbn\",\n        id: \"examplePassword\",\n        defaultValue: this.state.book.isbn,\n        placeholder: \"Book ISBN\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Quantity: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"number\",\n        name: \"quantity\",\n        id: \"examplePassword\",\n        defaultValue: this.state.book.quantity,\n        placeholder: \"Book quantity\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Publisher: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"publisher\",\n        id: \"examplePassword\",\n        defaultValue: this.state.book.publisher,\n        placeholder: \"Book publisher\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Author: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"author\",\n        id: \"examplePassword\",\n        placeholder: \"Book author\",\n        defaultValue: this.state.book.author,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"exampleText\",\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Description: \")), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        name: \"description\",\n        id: \"exampleText\",\n        defaultValue: this.state.book.description,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-outline-success btn-md rounded-0 mx-auto px-5 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"UPDATE\"))))));\n    }\n  }]);\n\n  return UpdateBook;\n}(Component);\n\nexport default Redirect(UpdateBook);","map":{"version":3,"sources":["E:\\FrontendMaster\\test\\src\\components\\UpdateBook.jsx"],"names":["React","Component","Form","FormGroup","Label","Input","Col","axios","history","Redirect","UpdateBook","props","handleChange","event","setState","target","name","value","console","log","state","handleSubmit","preventDefault","book","id","quantity","location","description","isbn","publisher","author","method","url","data","headers","localStorage","getItem","then","replace","catch","error","JSON","stringify","response","detail","hasError","match","params","get","res"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport { Form, FormGroup, Label, Input, Col } from \"reactstrap\";\r\nimport axios from \"../Utils/axios\";\r\nimport history from \"../components/history\"\r\nimport Redirect from \"../hoc/redirect\";\r\n\r\nclass UpdateBook extends Component {\r\n    constructor (props){\r\n        super(props);\r\n        this.state = {\r\n            id:0,\r\n            name: \"\",\r\n            quantity: 0,\r\n            location: \"\",\r\n            description: \"\",\r\n            isbn: \"\",\r\n            publisher: \"\",\r\n            author: \"\",\r\n            error: [],\r\n            book:[],\r\n            hasError:false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        // console.log(\"url\"+this.props.match.id);\r\n        axios.get(`/book/${id}`, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"access_token\")}`}} )\r\n            .then(res => {\r\n                this.setState({book:res.data});\r\n                this.setState({id: res.data.id, name: res.data.name, quantity:res.data.quantity,\r\n                    location:res.data.location, description: res.data.description, isbn: res.data.isbn,\r\n                    publisher: res.data.publisher, author: res.data.author})\r\n\r\n            })\r\n            .catch(res=>{\r\n                console.log(\"error\"+res);\r\n            })\r\n\r\n    }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const book = {\r\n      id: this.state.id,\r\n      name: this.state.name,\r\n      quantity: this.state.quantity,\r\n      location: this.state.location,\r\n      description: this.state.description,\r\n      isbn: this.state.isbn,\r\n      publisher: this.state.publisher,\r\n      author: this.state.author\r\n    };\r\n    console.log(\"check id\"+book);\r\n    axios({\r\n      method: \"put\",\r\n      url: \"/book\",\r\n      data: book,\r\n       headers: {\"Authorization\" : `Bearer ${localStorage.getItem(\"access_token\")}`}\r\n    })\r\n      .then(() => {\r\n          history.replace(\"/book\")\r\n      })\r\n      .catch(error => {\r\n          console.log(\"error in book update\" + JSON.stringify(error.response.data.detail));\r\n       /* this.setState({ error: error.response.data.detail });*/\r\n\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"col-md-10 offset-md-1\">\r\n          <Form\r\n            onSubmit={this.handleSubmit}\r\n            className=\"my-4 border border-light p-5 shadow-lg form-background\"\r\n          >\r\n            <h2 className=\"text-center mb-5\">UPDATE BOOK FORM</h2>\r\n            <FormGroup row>\r\n\r\n              <Label for=\"exampleEmail\" sm={2}>\r\n                <h5>Name: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"exampleEmail\"\r\n                  placeholder=\"Book Name\"\r\n                  defaultValue={this.state.book.name}\r\n                  onChange={this.handleChange}\r\n                />\r\n                  {this.state.hasError?<p className=\"mt-1 text-danger\"><em>{this.state.error.detail.name}</em></p>:null}\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Location: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"location\"\r\n                  defaultValue={this.state.book.location}\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book price\"\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n          <FormGroup row>\r\n              <Label sm={2}>\r\n                <h5>ISBN no: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"isbn\"\r\n                  id=\"examplePassword\"\r\n                  defaultValue={this.state.book.isbn}\r\n                  placeholder=\"Book ISBN\"\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Quantity: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"quantity\"\r\n                  id=\"examplePassword\"\r\n                  defaultValue={this.state.book.quantity}\r\n                  placeholder=\"Book quantity\"\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Publisher: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"publisher\"\r\n                  id=\"examplePassword\"\r\n                  defaultValue={this.state.book.publisher}\r\n                  placeholder=\"Book publisher\"\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"examplePassword\" sm={2}>\r\n                <h5>Author: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"author\"\r\n                  id=\"examplePassword\"\r\n                  placeholder=\"Book author\"\r\n                  defaultValue={this.state.book.author}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label for=\"exampleText\" sm={2}>\r\n                <h5>Description: </h5>\r\n              </Label>\r\n              <Col sm={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  id=\"exampleText\"\r\n                  defaultValue={this.state.book.description}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <button className=\"btn btn-outline-success btn-md rounded-0 mx-auto px-5 shadow\">\r\n                <h2>UPDATE</h2>\r\n              </button>\r\n            </FormGroup>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Redirect(UpdateBook);\r\n"]},"metadata":{},"sourceType":"module"}